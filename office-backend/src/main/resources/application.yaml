logging.level.org.springframework.integration: WARN
logging.level.org.eclipse.paho: WARN

spring.cloud.gcp.project-id: "flock-office-290609"

spring:
  rsocket:
    server:
      port: ${PORT:9000}
      mapping-path: /ws
      transport: websocket

server:
  port: 8000 # server is not really used (cause of rsocket server), but this prevent a probably clash during deployments

pubsub:
  subscription-name: projects/${spring.cloud.gcp.project-id}/subscriptions/office-backend

open-weather-map:
  api-key: ${API_KEY}


alerting:
  rules:
    - id : "test"
      type : "RAIN_CHECK_CONTACT_SENSOR"
      name : "Alert when dakterras is open and rain is imminent"
      time-to-reset : 30m
      device-ids : "99f9fb1b-fe98-414c-8562-68156ed3cc12"
      alerts :
        - time-to-deadline : 60m
          message: "The dakterras is open, and it's gonna rain in less than an hour ({{time}}). Please close it."
          channel: SIGNAL
        - time-to-deadline: 20m
          message: "ALARM The dakterras is open, and it's gonna rain in 30 min ({{time}}). You have to close it now."
          channel: "SIGNAL"
      meta-data :
        what-ever-i-put-here: "IsParsedInAMap"
